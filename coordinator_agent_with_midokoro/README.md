# コーディネーターエージェント (with 見どころエージェント)

ウチナーグチエージェントと見どころエージェントを統合したコーディネーターエージェントです。
ユーザーからの質問を分析し、適切なエージェントに振り分けて回答を提供します。

## 対応エージェント

1. **ウチナーグチエージェント** (`uchina_guchi_agent`)
   - 日本語を沖縄方言に変換

2. **見どころエージェント** (`midokoro_agent`)
   - Google検索を利用して沖縄の観光情報を提供
   - 観光スポット、アクセス方法、営業時間などの最新情報

## 必要環境

- uv (Pythonのパッケージマネージャー)
- Python 3.13以上

uv環境がない場合は、必要に応じて以下の通りインストールしてください。
```bash
curl -LsSf https://astral.sh/uv/install.sh | sh
export PATH="$HOME/.local/bin:$PATH"
```

## 環境構築

```bash
# (必要に応じて) Python 3.13のインストール
uv python install 3.13

# プロジェクトのPythonバージョンを3.13に固定
uv python pin 3.13

# 必要なパッケージのインストール
uv sync
```

## 環境変数の設定

`.env`ファイルを作成し、以下の環境変数を設定してください：

```bash
# LLMモデルID
LLM_MODEL_ID=gemini-2.0-flash-exp

# Google API Key
GOOGLE_API_KEY=your_google_api_key_here

# エージェントのURL
UCHINA_GUCHI_AGENT_URL=http://0.0.0.0:10001
MIDOKORO_AGENT_URL=http://0.0.0.0:10002
```

## 実行方法

### 1. 各エージェントを起動

まず、各エージェントを別々のターミナルで起動してください：

**ターミナル1: ウチナーグチエージェント**
```bash
cd ../uchina_guchi_agent
uv run python __main__.py --host=0.0.0.0 --port 10001
```

**ターミナル2: 見どころエージェント**
```bash
cd ../midokoro_agent
uv run python __main__.py --host=0.0.0.0 --port 10002
```

### 2. コーディネーターUIを起動

**ターミナル3: コーディネーター**
```bash
uv run streamlit run ui.py
```

ブラウザが自動的に開き、Streamlit UIが表示されます（通常は http://localhost:8501）。

## 使用例

### 沖縄方言変換
```
こんにちは、を沖縄方言に翻訳してください。
```

### 観光情報の取得
```
沖縄の人気観光スポットを3つ教えてください。
```

### 複合的な質問
```
首里城について教えて、その説明を沖縄方言で教えてください。
```

コーディネーターが自動的に適切なエージェントを選択し、必要に応じて複数のエージェントを連携させて回答を提供します。

## 機能

- **自動エージェント選択**: ユーザーの質問を分析し、最適なエージェントを自動選択
- **並列問い合わせ**: 複数のエージェントに同時に問い合わせ可能
- **エージェントチェーン**: あるエージェントの回答を別のエージェントに渡して処理
- **インテント分析**: キーワードベースでエージェントを推奨
